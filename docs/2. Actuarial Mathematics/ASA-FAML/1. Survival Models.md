# **Survival Models**

Survival Models are probability distributions that measure the **time to failure** of an entity, or phrased another way, the **future lifetime** of an entity. In an Actuarial context, it measures the **time to death** of a person.

Since survival models measure *time*, they are denoted by the **continuous random variable** $T_i$, where the subscript represents the **age** of the person being studied.

## **Newborn Lifetime**

The base survival model measures the future lifetime of a person **aged 0** (newborn), denoted by $T_0$.

The **CDF** thus represents the probability that the **newborn dies before age $t$**:

$$
F_0(t) = P(T_0 \le t)
$$

The **complement of the CDF** is the probability that the **newborn survives past a certain age $t$**. From a different perspective, it can also be seen as the **newborn dying after age $t$**. This is known as the **Survival Function**.

$$
S_0(t) = P(T_0 \ge t) = 1 - P(T_0 \le t) = 1 - F_0(t)
$$

## **Continuous Lifetime**

Similarly, we can **generalize** the above for a person aged $x$, denoted by $T_x$. However, the intepretation of the functions have a *slightly different* meaning.

The CDF instead represents the probability that the person **dies within a certain number of years $t$**. Given how often this expression is used, it can be simplified to the notation $q$.

$$
F_x(t) = P(T_x \le t) = {}_{t}q_{x}
$$

It can also be written **in terms of the newborn distribution**, whereby the newborn dies by age $x+t$, *given* that it survives till age $x$:

$$
P(T_0 \le x + t | T_0 > x) = \frac{P(x < T_0 < x +t)}{P(T_0 > x)} = \frac{P(T_0 < x +t)-P(T_0 < x)}{P(T_0 > x)} = \frac{F_0(x+t) - F_0(x)}{S_0(x)}
$$

<!-- Self Made -->
![CDF Illustration](Assets/1.%20Survival%20Models.md/CDF%20Illustration.png)

Conversely, the survival function is the probability that the person **survives another certain number of years $t$** or **dies after a certain number of years $t$**. It can be simplified to the notation $p$.

$$
S_x(t) = P(T_x \ge t) = {}_{t}p_{x}
$$

It can also be written in terms of the newborn distribution, whereby the newborn survives till age $x+t$, *given* that it survives till age $x$.

$$
P(T_x \ge t) = P(T_0 ge x + t | T_0 > x) = \frac{P(T_0 > x + t)}{P(T_0 > x)} = \frac{S_0(x+t)}{S_0(x)}
$$

> Note that since the surviving till age $x$ is a **subset** of surviving till age $x+t$, the conditional probability simply uses $x+t$ in the numerator.

<!-- Self Made -->
![Survival Function Illustration](Assets/1.%20Survival%20Models.md/Survival%20Function%20Illustration.png)

Recall that the two are complements of one another - the person will inevitably die.

$$
\begin{aligned}
F_x(t) + S_x(t) &= 1 \\
{}_{t}q_{x} + {}_{t}p_{x} &= 1
\end{aligned}
$$

### **Deferred Death**

The death of the person can also be "**deferred**", whereby the person **survives $s$ years then dies within the following $t$ years**. Following this definition:

$$
{}_{s|t}q_{x} = {}_{s}p_{x} * {}_{t}q_{x+s}
$$

From another perspective, it calculates the probability of the person dying within a **specified range** of time in the future:

$$
{}_{s|t}q_{x} = {}_{s+t}q_{x} - {}_{s}q_{x}
$$

<!-- Self Made -->
![Deferred Death](Assets/1.%20Survival%20Models.md/Deferred%20Death.png)

### **Force of Mortality (TBC)**

Loosely speaking, the rate of mortality (different from mortality rate) is the **probability of death during a period per unit time**.

$$
Rate~Of~Mortality = \frac{P(T_x \le h)}{h} = \frac{{}_{h}q_{x}}{h}
$$

If the period of time is **gets smaller and smaller**, then the result is the instantaneous change in probability, known as the **Force of Mortality**.

$$
\mu_x = \lim_{h \to 0} \frac{{}_{h}q_{x}}{h}
$$

For **very small periods of time**, the force of mortality can be used to *approximate* the change in probability of death:

$$
{}_{h}q_{x} = {}_{0}q_{x} + h * \mu_x = h * \mu_x
$$

### **Probability Density Function**

The PDF of $T_x$ is the differential of the CDF:

$$
\begin{aligned}
f_x(t)
&= \frac{d}{dt} F_x(t) \\
&= \frac{d}{dt} P(T_x \le t) \\
&= \lim_{h \to 0} \frac{P(T_x \le t+h) - P(T_x \le t)}{h} \\
&= \lim_{h \to 0} \frac{P(x + t < T_0 < x + t +h)}{h * P(T_0 > t)}
\end{aligned}
$$

The denominator of the limit can be adjusted to make it into a smoother conditional probability:

$$
\begin{aligned}
f_x(t)
&= \lim_{h \to 0} \frac{P(x + t < T_0 < x + t +h)}{h * P(T_0 > t)} \\
&= \frac{P(T_0 > t)}{P(T_0 > x + t)} \lim_{h \to 0} \frac{P(x + t < T_0 < x + t +h)}{h * P(T_0 > x + t)} \\
&= \frac{P(T_0 > t)}{P(T_0 > x + t)} \lim_{h \to 0} \frac{P(x + t < T_0 < x + t +h | T_0 > x + t)}{h} \\
&= {}_{t}p_{x} * \mu_{x+t}
\end{aligned}
$$

### **CDF and Survival Function**

The **CDF** can also be expressed as a function of the force of mortality, making use of the PDF derived above:

$$
\begin{aligned}
F_x(t) &= \int_{0}^{t} f_x(t) \\
F_x(t) &= \int_{0}^{t} {}_{t}p_{x} * \mu_{x+t} \\
{}_{t}q_{x} &= \int_{0}^{t} {}_{t}p_{x} * \mu_{x+t}
\end{aligned}
$$

Similarly for the **Survival Function**,

$$
\begin{aligned}
f_x(t) &= {}_{t}p_{x} * \mu_{x + t} \\
\mu_{x + t} &= \frac{f_x(t)}{S_x(t)}
\end{aligned}
$$

Consider another expression for the PDF:

$$
\begin{aligned}
f_x(t) &= \frac{d}{dt} F_x(t) \\
f_x(t) &= \frac{d}{dt} (1 - S_x(t)) \\
f_x(t) &= -S'_x(t)
\end{aligned}
$$

Combining both the above,

$$
\begin{aligned}
\mu_{x + t} &= \frac{-S'_x(t)}{S_x(t)} \\
\mu_{x + t} &= - \frac{d}{dt} (\ln S_x(t)) \\
\ln S_x(t) &= - \int_{0}^{t} \mu_{x + t} \\
S_x(t) &= e ^ {- \int_{0}^{t} \mu_{x + t}} \\
{}_{t}p_{x} &= e ^ {- \int_{0}^{t} \mu_{x + t}}
\end{aligned}
$$

### **Expectation and Variance**

The Expectation of the Future Lifetime is known as the **Life Expectancy** of the individual.

$$
\begin{aligned}
\mathring{e}_x
&= E(T_x) \\
&= \int_{0}^{t} t * {}_{t}p_{x} * \mu_{x+t} \\
&= \int_{0}^{t} t * -S'_x(t) \\
&= [-t * {}_{t}p_{x}]^{\infty}_0 + \int_{0}^{t} {}_{t}p_{x} \\
&= \int_{0}^{t} {}_{t}p_{x}
\end{aligned}
$$

> Note that $[-t * {}_{t}p_{x}]^{\infty}_0$ is always 0 as the probability of living forever is 0.

Unfortunately, there is **no simplification** to be made for the Variance of the future lifetime:

$$
\begin{aligned}
Var(T_x)
&= E(T^2_x) - [E(T_x)]^2 \\
&= \int_{0}^{t} t^2 * {}_{t}p_{x} * \mu_{x+t} - [\mathring{e}_x]^2
\end{aligned}
$$

## **Discrete Lifetime**

K_x
Curtate

## **Life Tables**

Alpha starting age, terminal age omega
l is the expected number of people who survive till age x
Radix number of people alive at lalpha, radix
number of people alive at l omega must be 0 (entire population assumed to die)
dx is the number of people who die within a period x and x +1: lx - lx+t

sum of all dx should bring back to original number, or 

since people dying, lx+t > lx

tqx = lx - lx+t /lx = dx/lx
tpx =  lx+t/lx = 1 - dx/lx

force of mortality