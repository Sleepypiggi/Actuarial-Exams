# **Survival Models**

Survival Models are probability distributions that measure the **time to failure** of an entity, or phrased another way, the **future lifetime** of an entity. In an Actuarial context, it measures the **time to death** of a person.

Since survival models measure *time*, they are denoted by the **continuous random variable** $T_i$, where the subscript represents the **age** of the person being studied.

## **Newborn Lifetime**

The base survival model measures the future lifetime of a person **aged 0** (newborn), denoted by $T_0$.

The **CDF** thus represents the probability that the **newborn dies before age $t$**:

$$
F_0(t) = P(T_0 \le t)
$$

The **complement of the CDF** is the probability that the **newborn survives past a certain age $t$**. From a different perspective, it can also be seen as the **newborn dying after age $t$**. This is known as the **Survival Function**.

$$
S_0(t) = P(T_0 \ge t) = 1 - P(T_0 \le t) = 1 - F_0(t)
$$

## **Continuous Lifetime**

The above can be **generalized** for a person aged $x$, denoted by $T_x$. However, the intepretation of the functions have a *slightly different* meaning.

The CDF instead represents the probability that the person **dies within a certain number of years $t$**. Given how often this expression is used, it can be simplified to the notation $q$.

$$
F_x(t) = P(T_x \le t) = {}_{t}q_{x}
$$

> For convenience, ${}_{1}q_{x}$ is often written as just $q_{x}$. In other words, $t$ is often omitted if it is 1.

It can also be written **in terms of the newborn distribution**, whereby the newborn dies by age $x+t$, *given* that it survives till age $x$:

$$
P(T_0 \le x + t | T_0 > x) = \frac{P(x < T_0 < x +t)}{P(T_0 > x)} = \frac{P(T_0 < x +t)-P(T_0 < x)}{P(T_0 > x)} = \frac{F_0(x+t) - F_0(x)}{S_0(x)}
$$

<!-- Self Made -->
![CDF Illustration](Assets/1.%20Survival%20Models.md/CDF%20Illustration.png){.center}

Conversely, the survival function is the probability that the person **survives another certain number of years $t$** or **dies after a certain number of years $t$**. It can be simplified to the notation $p$.

$$
S_x(t) = P(T_x \ge t) = {}_{t}p_{x}
$$

> Similarly, ${}_{1}p_{x}$ is often written as just $p_{x}$.

It can also be written in terms of the newborn distribution, whereby the newborn survives till age $x+t$, *given* that it survives till age $x$.

$$
P(T_x \ge t) = P(T_0 ge x + t | T_0 > x) = \frac{P(T_0 > x + t)}{P(T_0 > x)} = \frac{S_0(x+t)}{S_0(x)}
$$

> Note that since the surviving till age $x$ is a **subset** of surviving till age $x+t$, the conditional probability simply uses $x+t$ in the numerator.

<!-- Self Made -->
![Survival Function Illustration](Assets/1.%20Survival%20Models.md/Survival%20Function%20Illustration.png){.center}

Recall that the two are complements of one another - the person will inevitably die.

$$
\begin{aligned}
F_x(t) + S_x(t) &= 1 \\
{}_{t}q_{x} + {}_{t}p_{x} &= 1
\end{aligned}
$$

### **Deferred Death**

The death of the person can also be "**deferred**", whereby the person **survives $s$ years then dies within the following $t$ years**. Following this definition:

$$
{}_{s|t}q_{x} = {}_{s}p_{x} * {}_{t}q_{x+s}
$$

> It is important to remember to update the starting age of the second term to the "new age" after the first term.

From another perspective, it calculates the probability of the person dying within a **specified range** of time in the future:

$$
{}_{s|t}q_{x} = {}_{s+t}q_{x} - {}_{s}q_{x}
$$

<!-- Self Made -->
![Deferred Death](Assets/1.%20Survival%20Models.md/Deferred%20Death%20Illustration.png){.center}

### **Force of Mortality**

The force of mortality is the **instantanous rate of death** at a specific age.

Similar to gradient, it is defined as the limit of probability of death in a given a period over the period itself, as the **period tends to 0**:

$$
\mu_x = \lim_{h \to 0} \frac{{}_{h}q_{x}}{h}
$$

For **very small periods of time**, the force of mortality can be used to *approximate* the change in probability of death:

$$
{}_{h}q_{x} = {}_{0}q_{x} + h * \mu_x = h * \mu_x
$$

### **Probability Density Function**

The PDF of $T_x$ is the differential of the CDF:

$$
\begin{aligned}
f_x(t)
&= \frac{d}{dt} F_x(t) \\
&= \frac{d}{dt} P(T_x \le t) \\
&= \lim_{h \to 0} \frac{P(T_x \le t+h) - P(T_x \le t)}{h} \\
&= \lim_{h \to 0} \frac{P(x + t < T_0 < x + t +h)}{h * P(T_0 > t)}
\end{aligned}
$$

The denominator of the limit can be adjusted to make it into a smoother conditional probability:

$$
\begin{aligned}
f_x(t)
&= \lim_{h \to 0} \frac{P(x + t < T_0 < x + t +h)}{h * P(T_0 > t)} \\
&= \frac{P(T_0 > t)}{P(T_0 > x + t)} \lim_{h \to 0} \frac{P(x + t < T_0 < x + t +h)}{h * P(T_0 > x + t)} \\
&= \frac{P(T_0 > t)}{P(T_0 > x + t)} \lim_{h \to 0} \frac{P(x + t < T_0 < x + t +h | T_0 > x + t)}{h} \\
&= {}_{t}p_{x} * \mu_{x+t}
\end{aligned}
$$

### **CDF and Survival Function**

The **CDF** can also be expressed as a function of the force of mortality, making use of the PDF derived above:

$$
\begin{aligned}
F_x(t) &= \int_{0}^{t} f_x(t) \\
F_x(t) &= \int_{0}^{t} {}_{t}p_{x} * \mu_{x+t} \\
{}_{t}q_{x} &= \int_{0}^{t} {}_{t}p_{x} * \mu_{x+t}
\end{aligned}
$$

Similarly for the **Survival Function**,

$$
\begin{aligned}
f_x(t) &= {}_{t}p_{x} * \mu_{x + t} \\
\mu_{x + t} &= \frac{f_x(t)}{S_x(t)}
\end{aligned}
$$

Consider another expression for the PDF:

$$
\begin{aligned}
f_x(t) &= \frac{d}{dt} F_x(t) \\
f_x(t) &= \frac{d}{dt} (1 - S_x(t)) \\
f_x(t) &= -S'_x(t)
\end{aligned}
$$

Combining both the above,

$$
\begin{aligned}
\mu_{x + t} &= \frac{-S'_x(t)}{S_x(t)} \\
\mu_{x + t} &= - \frac{d}{dt} (\ln S_x(t)) \\
\ln S_x(t) &= - \int_{0}^{t} \mu_{x + t} \\
S_x(t) &= e ^ {- \int_{0}^{t} \mu_{x + t}} \\
{}_{t}p_{x} &= e ^ {- \int_{0}^{t} \mu_{x + t}}
\end{aligned}
$$

### **Expectation and Variance**

The Expectation of the Future Lifetime is known as the **Life Expectancy** of the individual.

$$
\begin{aligned}
\mathring{e}_x
&= E(T_x) \\
&= \int_{0}^{t} t * {}_{t}p_{x} * \mu_{x+t} \\
&= \int_{0}^{t} t * -S'_x(t) \\
&= [-t * {}_{t}p_{x}]^{\infty}_0 + \int_{0}^{t} {}_{t}p_{x} \\
&= \int_{0}^{t} {}_{t}p_{x}
\end{aligned}
$$

> Note that $[-t * {}_{t}p_{x}]^{\infty}_0$ is always 0 as the probability of living forever is 0.

Unfortunately, there is **no simplification** to be made for the Variance of the future lifetime:

$$
\begin{aligned}
Var(T_x)
&= E(T^2_x) - [E(T_x)]^2 \\
&= \int_{0}^{t} t^2 * {}_{t}p_{x} * \mu_{x+t} - [\mathring{e}_x]^2
\end{aligned}
$$

## **Discrete Lifetime**

If the lifetime of the person is discrete instead, then it is known as the **Curtate Future Lifetime** of the person. It is denoted by $K_x$.

The intepretation is slightly different - $P(K_x = k)$ represents the probability of the dying between **age k (inclusive) and k+1 (Exclusive)**.

This can be expressed in continuous terms as:

$$
P(K_x = k) = P(k < T_x < K + 1) = {}_{k}p_{x} * q_{x+k}
$$

<!-- Start from 0, end at n-1 
A continuous lifetime can be converted into a discrete one by **truncating** it - removing the decimal points.
K_X = [t_x}-->

### **Expectation & Variance**

Similarly, the expected future lifetime can be calcualated:

$$
\begin{aligned}
e_x
&=(K_x) \\
&= \sum_{k=0}^{\infty} k * {}_{k}p_{x} * q_{x+k} \\
&= {}_{1}p_{x} * q_{x+1} + 2{}_{2}p_{x} * q_{x+2} + 3{}_{3}p_{x} * q_{x+3} + ... \\
&= ({}_{1}p_{x} * q_{x+1} + {}_{2}p_{x} * q_{x+2} + ...) + ({}_{2}p_{x} * q_{x+2} + {}_{3}p_{x} * q_{x+3} + ...) + ({}_{3}p_{x} * q_{x+3} + {}_{4}p_{x} * q_{x+4} + ...) \\
&= \sum_{k=1}^{\infty} \sum_{j=k}^{\infty} {}_{j}p_{x}* q_{x+j} \\
&= \sum_{k=1}^{\infty} {}_{k}p_{x}
\end{aligned}
$$

<!-- Insert comments about proof -->

Unfortunately, there is **no simplification** to be made for the Variance:

$$
\begin{aligned}
Var(K_x)
&= E(K_x^2) - [E(K_x)]^2 \\
&= \sum_{k=0}^{\infty} (k^2 {}_{k}p_{x} * q_{x+k}) - (e_x)^2
\end{aligned}
$$

## **Life Tables**

The Discrete Survival Model above can be expressed in tabular form as well, known as a **Life Table**. Instead of providing the probabilities directly, it provides the **expected number of people alive at a given age** $l_x$. From these values, the probability rates can be calculated.

The lowest age of the life table is known as the **Starting Age**, denoted by $\alpha$. Conversely, the highest age is known as the **Terminal Age**, denoted by $\omega$.

The number of people alive at the starting age is known as the **Radix** of the life table, which is usually a large round number; $l_{\alpha} = 100,000$. All members of the poulation are expected to gradually die by the terminal age; $l_{\omega} = 0$.

$$
l_x > l_{x+t}
$$

<!-- Self Made -->
![Life Table](Assets/1.%20Survival%20Models.md/Life%20Table.png){. center}

An additional column for $d_x$ can also be calculated, which represents the **expected number of people who die within a year**; from age $x$ to age $x+1$. Note that because the life table is decreasing, it is written from the perspective of $x$, not $x+1$.

$$
d_x = l_x - l_{x+1}
$$

If the life table is incomplete, $d_x$ can be used to fill up the remaining information:

$$
l_x - l_{x+n} = d_x + d_{x+1} + ... d_{x+n-1}
$$

<!-- Self Made -->
![Life Table dx](Assets/1.%20Survival%20Models.md/Life%20Table%20dx.png){. center}

The probability of death/survival **over a period** can be calculated as the **proportion of people who died/survived** in that period:

$$
\begin{aligned}
{}_{t}p_{x} &= \frac{l_{x+t}}{l_x} \\
{}_{t}q_{x} &= \frac{l_x - l_{x+t}}{l_x} \\
{}_{s|t}q_{x} &= \frac{l_{x+s} - l_{x+s+t}}{l_{x}} \\
\end{aligned}
$$

If considering only the probabilities for a **single period**, then $d_x$ can be used as well:

$$
\begin{aligned}
p_{x} &= \frac{l_x - d_x}{l_x} \\
q_{x} &= \frac{d_x}{l_x} \\
\end{aligned}
$$

<!-- Self Made -->
![Life table qx px](Assets/1.%20Survival%20Models.md/Life%20Table%20qx%20px.png){. center}

If the life table only includes the yearly probabilities, then the probability over a specific period can be calculated via first principles using a probability tree:

$$
{}_{t}q_{x} = q_x + p_x * q_{x+1} + p_x * p_{x+1} * q_{x+2} + ... p_{x} * p _{x+1} * ... p_{x+n-2} * q_{x+n-1}
$$

<!-- Self Made -->
![Probability Tree](Assets/1.%20Survival%20Models.md/Probability%20Tree.png)

<!--force of mortality-->
